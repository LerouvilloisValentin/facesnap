{"ast":null,"code":"import { map } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FaceSnapsServices {\n  constructor(http) {\n    this.http = http;\n    // addFaceSnap(formValue: { title: string, description: string, imageUrl: string, location?: string }) {\n    this.faceSnap = {\n      ...formValue,\n      snaps: 0,\n      createdDate: new Date(),\n      id: this.faceSnaps[this.faceSnaps.length - 1].id + 1\n    };\n  }\n  getAllFaceSnaps() {\n    return this.http.get('http://localhost:3000/facesnaps');\n  }\n  getFaceSnapById(faceSnapId) {\n    return this.http.get(`http://localhost:3000/facesnaps/${faceSnapId}`);\n  }\n  snapFaceSnapById(faceSnapId, snapType) {\n    return this.getFaceSnapById(faceSnapId).pipe(map(faceSnap => ({\n      ...faceSnap,\n      snaps: faceSnap.snaps + snapType === 'snap' ? 1 : -1\n    })));\n  }\n  static #_ = this.ɵfac = function FaceSnapsServices_Factory(t) {\n    return new (t || FaceSnapsServices)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: FaceSnapsServices,\n    factory: FaceSnapsServices.ɵfac,\n    providedIn: 'root'\n  });\n}\nthis.faceSnaps.push(faceSnap);","map":{"version":3,"names":["map","FaceSnapsServices","constructor","http","faceSnap","formValue","snaps","createdDate","Date","id","faceSnaps","length","getAllFaceSnaps","get","getFaceSnapById","faceSnapId","snapFaceSnapById","snapType","pipe","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn","push"],"sources":["C:\\code\\snapface\\client\\src\\app\\services\\face-snap.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { FaceSnap } from \"../models/face-snap.models\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Observable, map } from \"rxjs\";\r\n\r\n@Injectable({\r\n  providedIn:'root'\r\n})\r\nexport class FaceSnapsServices {\r\n  faceSnap! : FaceSnap\r\n\r\n  constructor(private http: HttpClient){}\r\n\r\n  getAllFaceSnaps(): Observable<FaceSnap[]> {\r\n    return this.http.get<FaceSnap[]>('http://localhost:3000/facesnaps')\r\n  }\r\n\r\n  getFaceSnapById(faceSnapId: number): Observable<FaceSnap> {\r\n    return this.http.get<FaceSnap>(`http://localhost:3000/facesnaps/${faceSnapId}`)\r\n\r\n  }\r\n  snapFaceSnapById(faceSnapId: number, snapType: 'snap' | 'unsnap'): Observable<FaceSnap> {\r\n    return this.getFaceSnapById(faceSnapId).pipe(\r\n      map(faceSnap => ({\r\n        ...faceSnap,\r\n        snaps: faceSnap.snaps + snapType === 'snap'? 1 : -1\r\n      })  )\r\n    )\r\n  }\r\n\r\n  // addFaceSnap(formValue: { title: string, description: string, imageUrl: string, location?: string }) {\r\n    const faceSnap: FaceSnap = {\r\n        ...formValue,\r\n        snaps: 0,\r\n        createdDate: new Date(),\r\n        id: this.faceSnaps[this.faceSnaps.length - 1].id + 1\r\n    };\r\n    this.faceSnaps.push(faceSnap);\r\n  // }\r\n}\r\n"],"mappings":"AAGA,SAAqBA,GAAG,QAAQ,MAAM;;;AAKtC,OAAM,MAAOC,iBAAiB;EAG5BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAmBxB;IACQ,KAAAC,QAAQ,GAAa;MACvB,GAAGC,SAAS;MACZC,KAAK,EAAE,CAAC;MACRC,WAAW,EAAE,IAAIC,IAAI,EAAE;MACvBC,EAAE,EAAE,IAAI,CAACC,SAAS,CAAC,IAAI,CAACA,SAAS,CAACC,MAAM,GAAG,CAAC,CAAC,CAACF,EAAE,GAAG;KACtD;EAzBmC;EAEtCG,eAAeA,CAAA;IACb,OAAO,IAAI,CAACT,IAAI,CAACU,GAAG,CAAa,iCAAiC,CAAC;EACrE;EAEAC,eAAeA,CAACC,UAAkB;IAChC,OAAO,IAAI,CAACZ,IAAI,CAACU,GAAG,CAAW,mCAAmCE,UAAU,EAAE,CAAC;EAEjF;EACAC,gBAAgBA,CAACD,UAAkB,EAAEE,QAA2B;IAC9D,OAAO,IAAI,CAACH,eAAe,CAACC,UAAU,CAAC,CAACG,IAAI,CAC1ClB,GAAG,CAACI,QAAQ,KAAK;MACf,GAAGA,QAAQ;MACXE,KAAK,EAAEF,QAAQ,CAACE,KAAK,GAAGW,QAAQ,KAAK,MAAM,GAAE,CAAC,GAAG,CAAC;KACnD,CAAC,CAAG,CACN;EACH;EAAC,QAAAE,CAAA,G;qBApBUlB,iBAAiB,EAAAmB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAjBvB,iBAAiB;IAAAwB,OAAA,EAAjBxB,iBAAiB,CAAAyB,IAAA;IAAAC,UAAA,EAFjB;EAAM;;AA+Bf,IAAI,CAACjB,SAAS,CAACkB,IAAI,CAACxB,QAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}